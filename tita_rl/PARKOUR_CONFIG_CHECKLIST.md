# ğŸ¯ TITA è·‘é…·è®­ç»ƒé…ç½®æ£€æŸ¥æ¸…å•

## âœ… é…ç½®çŠ¶æ€æ€»ç»“

### ğŸ“‹ å½“å‰é…ç½®æ¦‚è§ˆ

| é¡¹ç›® | é…ç½®å€¼ | çŠ¶æ€ |
|------|--------|------|
| **è®­ç»ƒæ¨¡å¼** | å¾®è°ƒï¼ˆTransfer Learningï¼‰ | âœ… æ­£ç¡® |
| **é¢„è®­ç»ƒæ¨¡å‹** | model_11700.pt | âœ… å­˜åœ¨ |
| **æ€»è¿­ä»£æ¬¡æ•°** | 31,000 | âœ… åˆç† |
| **è¯¾ç¨‹å­¦ä¹ ** | å¯ç”¨ (3é˜¶æ®µ) | âœ… æ­£ç¡® |
| **æ·±åº¦ç›¸æœº** | å¯ç”¨ (87Ã—58) | âœ… æ­£ç¡® |
| **ç¯å¢ƒæ•°é‡** | 2048 | âœ… æ­£ç¡® |
| **å­¦ä¹ ç‡** | 1e-3 | âš ï¸ å»ºè®®é™ä½ |

---

## 1ï¸âƒ£ æ ¸å¿ƒé…ç½®è¯¦è§£

### ğŸ”§ è®­ç»ƒé…ç½® (tita_parkour_config.py)

```python
class runner:
    # ========== åŸºç¡€è®¾ç½® ==========
    run_name = 'parkour_with_curriculum'          # è¿è¡Œåç§°
    experiment_name = 'tita_parkour'              # å®éªŒåç§°
    max_iterations = 31000                        # æ€»è¿­ä»£ = 10k + 10k + 17kï¼ˆæ‚¨æ‰‹åŠ¨æ”¹è¿‡ï¼‰
    num_steps_per_env = 24                        # æ¯ç¯å¢ƒæ­¥æ•°
    
    # ========== å¾®è°ƒé…ç½® ==========
    resume = True                                 # âœ… å¯ç”¨å¾®è°ƒ
    resume_path = '/home/bubble/æ¡Œé¢/tita/tita_rl/model_11700.pt'  # âœ… æ¨¡å‹è·¯å¾„æ­£ç¡®
    load_run = None                               # ä¸ä»æ—¥å¿—åŠ è½½
    checkpoint = -1                               # ä½¿ç”¨æœ€æ–°æ£€æŸ¥ç‚¹
    
    # ========== ä¿å­˜ä¸æ—¥å¿— ==========
    save_interval = 500                           # æ¯ 500 æ¬¡è¿­ä»£ä¿å­˜ä¸€æ¬¡
    log_interval = 10                             # æ¯ 10 æ¬¡è¿­ä»£è®°å½•æ—¥å¿—
    eval_interval = 500                           # æ¯ 500 æ¬¡è¿­ä»£è¯„ä¼°ä¸€æ¬¡
```

### ğŸ“ è¯¾ç¨‹å­¦ä¹ é…ç½® (parkour_curriculum.py)

**æ‚¨æ‰‹åŠ¨ä¿®æ”¹åçš„ä¸‰é˜¶æ®µé…ç½®**ï¼š

```python
é˜¶æ®µ1ï¼šåŸºç¡€è¡Œèµ° (0-8000 iterations)
â”œâ”€ åœ°å½¢ï¼šå¹³åœ° (terrain_level=0)
â”œâ”€ éšœç¢ï¼š5cm ä½çŸ®éšœç¢
â”œâ”€ é‡ç‚¹ï¼šå­¦ä¹ åŸºç¡€è¡Œèµ°ã€å§¿æ€æ§åˆ¶
â””â”€ å¥–åŠ±æƒé‡ï¼š
   â”œâ”€ obstacle_clearance = 0.5   # ä½æƒé‡ï¼Œåªéœ€æ„ŸçŸ¥
   â”œâ”€ collision = -0.5           # è½»åº¦æƒ©ç½š
   â””â”€ termination = -100         # å®½æ¾å¤±è´¥ä»£ä»·

é˜¶æ®µ2ï¼šéšœç¢è·¨è¶Š (8000-16000 iterations)
â”œâ”€ åœ°å½¢ï¼šä¸­ç­‰éš¾åº¦ (terrain_level=3)
â”œâ”€ éšœç¢ï¼š10cm ä¸­ç­‰éšœç¢
â”œâ”€ é‡ç‚¹ï¼šå­¦ä¹ è¯†åˆ«å’Œè·¨è¶Šéšœç¢
â””â”€ å¥–åŠ±æƒé‡ï¼š
   â”œâ”€ obstacle_clearance = 1.0   # ä¸­ç­‰æƒé‡
   â”œâ”€ jump_timing = 0.5          # å¼€å§‹å­¦ä¹ è·³è·ƒæ—¶æœº
   â”œâ”€ collision = -1.0           # ä¸­åº¦æƒ©ç½š
   â””â”€ termination = -150         # ä¸­åº¦å¤±è´¥ä»£ä»·

é˜¶æ®µ3ï¼šå®Œç¾è·‘é…· (16000-31000 iterations)  â† æ‚¨æ”¹ä¸º31000
â”œâ”€ åœ°å½¢ï¼šé«˜éš¾åº¦ (terrain_level=5)
â”œâ”€ éšœç¢ï¼š15cm é«˜éšœç¢
â”œâ”€ é‡ç‚¹ï¼šæŒæ¡å®Œæ•´è·‘é…·æŠ€èƒ½
â””â”€ å¥–åŠ±æƒé‡ï¼š
   â”œâ”€ obstacle_clearance = 2.0   # é«˜æƒé‡
   â”œâ”€ jump_timing = 1.5          # ç²¾ç¡®è·³è·ƒ
   â”œâ”€ landing_stability = 1.0    # ç¨³å®šç€é™†
   â”œâ”€ collision = -5.0           # ä¸¥å‰æƒ©ç½š
   â””â”€ termination = -200         # ä¸¥å‰å¤±è´¥ä»£ä»·
```

### ğŸ“· æ·±åº¦ç›¸æœºé…ç½®

```python
class depth:
    use_camera = True               # âœ… å¯ç”¨
    position = [0.27, 0, 0.03]     # å‰ç½®ç›¸æœº
    angle = [-5, 5]                # ä¿¯ä»°è§’
    original = (106, 60)           # åŸå§‹åˆ†è¾¨ç‡
    resized = (87, 58)             # å¤„ç†ååˆ†è¾¨ç‡
    horizontal_fov = 87            # æ°´å¹³è§†é‡
    buffer_len = 2                 # ç¼“å†²å¸§æ•°
    far_clip = 2                   # æœ€è¿œ 2 ç±³
```

### ğŸƒ ç¯å¢ƒé…ç½®

```python
class env:
    num_envs = 2048                # âœ… ç¯å¢ƒæ•°é‡ï¼ˆé€‚åˆ RTX 3060ï¼‰
    episode_length_s = 20          # æ¯å›åˆ 20 ç§’
    
    # è§‚æµ‹ç»´åº¦
    n_proprio = 33                 # æœ¬ä½“æ„Ÿè§‰
    n_scan = 187                   # åœ°å½¢é«˜åº¦æ‰«æ
    n_depth_features = 5           # æ·±åº¦ç‰¹å¾ï¼ˆå·¦ã€ä¸­ã€å³ã€è¿‘ã€è¿œï¼‰
    history_len = 10               # å†å²é•¿åº¦
```

### ğŸ§  ç½‘ç»œé…ç½®

```python
class policy:
    # ç¼–ç å™¨
    scan_encoder_dims = [128, 64, 32]      # åœ°å½¢æ‰«æç¼–ç å™¨
    depth_encoder_dims = [64, 32, 16]      # æ·±åº¦å›¾ç¼–ç å™¨
    
    # Actor-Critic ç½‘ç»œ
    actor_hidden_dims = [512, 256, 128]    # Actor ç½‘ç»œ
    critic_hidden_dims = [512, 256, 128]   # Critic ç½‘ç»œ
    
    # å­¦ä¹ å‚æ•°
    learning_rate = 1e-3              # âš ï¸ å»ºè®®æ”¹ä¸º 3e-4ï¼ˆå¾®è°ƒï¼‰
    num_learning_epochs = 5           # æ¯æ¬¡æ›´æ–° 5 ä¸ª epoch
    num_mini_batches = 4              # 4 ä¸ª mini-batch
```

---

## 2ï¸âƒ£ é…ç½®æ£€æŸ¥ç»“æœ

### âœ… æ­£ç¡®çš„é…ç½®

1. **å¾®è°ƒè®¾ç½®æ­£ç¡®**
   - âœ… `resume = True`
   - âœ… `resume_path = '/home/bubble/æ¡Œé¢/tita/tita_rl/model_11700.pt'`
   - âœ… æ¨¡å‹æ–‡ä»¶å­˜åœ¨ï¼ˆ13 MBï¼‰

2. **è¯¾ç¨‹å­¦ä¹ é…ç½®æ­£ç¡®**
   - âœ… ä¸‰é˜¶æ®µè¿­ä»£æ¬¡æ•°ï¼š8000 + 8000 + 15000 = 31000ï¼ˆæ‚¨æ‰‹åŠ¨è°ƒæ•´è¿‡ï¼‰
   - âœ… å¥–åŠ±æƒé‡åŠ¨æ€è°ƒæ•´é€»è¾‘å®Œæ•´
   - âœ… åœ°å½¢éš¾åº¦é€’å¢ï¼ˆ0 â†’ 3 â†’ 5ï¼‰

3. **æ·±åº¦ç›¸æœºé…ç½®æ­£ç¡®**
   - âœ… ç¡¬ä»¶å‚æ•°ä¸åŸå§‹é…ç½®ä¸€è‡´
   - âœ… æ·±åº¦ç‰¹å¾æå–å®ç°å®Œæ•´

4. **ä»»åŠ¡æ³¨å†Œæ­£ç¡®**
   - âœ… `train_parkour.py` ä¸­å·²æ³¨å†Œ `tita_parkour` ä»»åŠ¡
   - âœ… ä½¿ç”¨äº† `ParkourRobot` ç¯å¢ƒ

5. **ä¿å­˜é…ç½®åˆç†**
   - âœ… `save_interval = 500`ï¼ˆæ¯ 500 æ¬¡ä¿å­˜ï¼‰
   - âœ… æ€»å…±ä¼šä¿å­˜ 62 ä¸ªæ£€æŸ¥ç‚¹ï¼ˆ31000 / 500ï¼‰

### âš ï¸ éœ€è¦ä¼˜åŒ–çš„é…ç½®

**å”¯ä¸€å»ºè®®ï¼šé™ä½å­¦ä¹ ç‡ï¼ˆå¾®è°ƒä¼˜åŒ–ï¼‰**

```python
# configs/tita_parkour_config.py
class algorithm:
    # âš ï¸ å½“å‰ï¼š1e-3ï¼ˆä»å¤´è®­ç»ƒçš„å­¦ä¹ ç‡ï¼‰
    learning_rate = 1e-3
    
    # âœ… å»ºè®®ï¼š3e-4ï¼ˆå¾®è°ƒçš„å­¦ä¹ ç‡ï¼Œé™ä½åˆ° 1/3ï¼‰
    # learning_rate = 3e-4
```

**åŸå› **ï¼š
- æ‚¨ä½¿ç”¨çš„æ˜¯ **å¾®è°ƒæ¨¡å¼**ï¼ˆresume=True, model_11700.ptï¼‰
- é¢„è®­ç»ƒæ¨¡å‹å·²ç»æœ‰è‰¯å¥½çš„åŸºç¡€
- è¾ƒä½çš„å­¦ä¹ ç‡ï¼ˆ3e-4ï¼‰å¯ä»¥ï¼š
  - âœ… æ›´ç¨³å®šåœ°é€‚åº”æ–°ä»»åŠ¡
  - âœ… é¿å…ç ´åå·²å­¦åˆ°çš„æŠ€èƒ½
  - âœ… æ›´å¿«æ”¶æ•›

**å½±å“**ï¼š
- å¦‚æœä¸é™ä½ï¼šå¯èƒ½ä¼šå‡ºç°è®­ç»ƒä¸ç¨³å®šï¼Œæ€§èƒ½éœ‡è¡
- å¦‚æœé™ä½ï¼šè®­ç»ƒæ›´ç¨³å®šï¼Œä½†å‰æœŸå­¦ä¹ ç¨æ…¢

**æ˜¯å¦å¿…é¡»**ï¼šä¸æ˜¯å¿…é¡»ï¼Œä½†å¼ºçƒˆå»ºè®®

---

## 3ï¸âƒ£ å¦‚ä½•å¼€å§‹è®­ç»ƒ

### æ–¹æ³• 1ï¼šæ ‡å‡†è®­ç»ƒï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/bubble/æ¡Œé¢/tita/tita_rl

# æ¿€æ´» conda ç¯å¢ƒ
conda activate tita2

# å¯åŠ¨è®­ç»ƒï¼ˆæ— å¯è§†åŒ–ï¼Œæœ€å¿«ï¼‰
python train_parkour.py --task=tita_parkour --headless

# æˆ–è€…å¸¦å¯è§†åŒ–ï¼ˆå¯ä»¥çœ‹åˆ°æ·±åº¦å›¾åƒçª—å£ï¼‰
python train_parkour.py --task=tita_parkour
```

### æ–¹æ³• 2ï¼šè°ƒè¯•è®­ç»ƒï¼ˆæŸ¥çœ‹æ·±åº¦å¯è§†åŒ–ï¼‰

```bash
# ä¸ä½¿ç”¨ --headlessï¼Œå¯ä»¥çœ‹åˆ°ï¼š
# 1. Isaac Gym ä¸»çª—å£
# 2. OpenCV æ·±åº¦å›¾åƒçª—å£
python train_parkour.py --task=tita_parkour
```

### æ–¹æ³• 3ï¼šåå°è®­ç»ƒï¼ˆæ¨èæœåŠ¡å™¨ï¼‰

```bash
# ä½¿ç”¨ nohup åå°è¿è¡Œ
nohup python train_parkour.py --task=tita_parkour --headless > training.log 2>&1 &

# æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
tail -f training.log

# æˆ–è€…ä½¿ç”¨ tmux
tmux new -s parkour_training
python train_parkour.py --task=tita_parkour --headless
# æŒ‰ Ctrl+B ç„¶åæŒ‰ D é€€å‡º tmuxï¼ˆè®­ç»ƒç»§ç»­ï¼‰

# é‡æ–°è¿æ¥
tmux attach -t parkour_training
```

### è®­ç»ƒè¾“å‡ºç¤ºä¾‹

```
======================================================================
ğŸ¯ TITA è·‘é…·è®­ç»ƒï¼ˆå¸¦è¯¾ç¨‹å­¦ä¹ ï¼‰
======================================================================

ğŸ“¦ åˆ›å»ºè®­ç»ƒç¯å¢ƒ...
âœ… ç¯å¢ƒåˆ›å»ºæˆåŠŸï¼
   - ç¯å¢ƒæ•°é‡: 2048
   - è§‚æµ‹ç»´åº¦: 245
   - åŠ¨ä½œç»´åº¦: 8
   - æ·±åº¦ç›¸æœº: å¯ç”¨ (87Ã—58)

ğŸ§  åˆ›å»ºç­–ç•¥ç½‘ç»œ...
âœ… ç­–ç•¥ç½‘ç»œåˆ›å»ºæˆåŠŸï¼
   - Actor ç½‘ç»œ: [512, 256, 128]
   - Critic ç½‘ç»œ: [512, 256, 128]
   - å‚æ•°æ€»æ•°: ~2.5M

ğŸ“– åŠ è½½é¢„è®­ç»ƒæ¨¡å‹...
âœ… æˆåŠŸåŠ è½½: /home/bubble/æ¡Œé¢/tita/tita_rl/model_11700.pt
   - å½“å‰è¿­ä»£: 11700
   - Actor å‚æ•°: å·²åŠ è½½
   - Critic å‚æ•°: å·²åŠ è½½

ğŸ“š åˆå§‹åŒ–è¯¾ç¨‹å­¦ä¹ ...
âœ… è¯¾ç¨‹å­¦ä¹ å™¨åˆå§‹åŒ–æˆåŠŸ
   - æ€»é˜¶æ®µæ•°: 3
   - æ€»è¿­ä»£æ•°: 31000
   - å½“å‰é˜¶æ®µ: stage_1_flat_walking (0-8000)

======================================================================
å¼€å§‹è®­ç»ƒ...
======================================================================

[Stage 1: Flat Walking] Iter 11700/31000 | Reward: 12.5 | Cost: 0.3
[Stage 1: Flat Walking] Iter 11800/31000 | Reward: 13.2 | Cost: 0.2
...
[Stage 1 â†’ Stage 2] åˆ‡æ¢åˆ°: Small Obstacles
[Stage 2: Small Obstacles] Iter 16000/31000 | Reward: 15.8 | Cost: 0.4
...
[Stage 2 â†’ Stage 3] åˆ‡æ¢åˆ°: Parkour Mastery
[Stage 3: Parkour Mastery] Iter 24000/31000 | Reward: 18.5 | Cost: 0.5
...
```

---

## 4ï¸âƒ£ æ£€æŸ¥ç‚¹ä¿å­˜ä½ç½®

### ğŸ“ ä¿å­˜ç›®å½•ç»“æ„

```
/home/bubble/æ¡Œé¢/tita/tita_rl/logs/
â””â”€â”€ tita_parkour/                          # experiment_name
    â””â”€â”€ parkour_with_curriculum/           # run_name
        â””â”€â”€ <æ—¥æœŸæ—¶é—´æˆ³>/                  # ä¾‹å¦‚ï¼šNov23_14-30-25
            â”œâ”€â”€ config.json                # è®­ç»ƒé…ç½®
            â”œâ”€â”€ events.out.tfevents.*      # TensorBoard æ—¥å¿—
            â”œâ”€â”€ model_500.pt               # ç¬¬ 500 æ¬¡è¿­ä»£æ£€æŸ¥ç‚¹
            â”œâ”€â”€ model_1000.pt              # ç¬¬ 1000 æ¬¡è¿­ä»£æ£€æŸ¥ç‚¹
            â”œâ”€â”€ model_1500.pt              # ç¬¬ 1500 æ¬¡è¿­ä»£æ£€æŸ¥ç‚¹
            â”œâ”€â”€ ...
            â”œâ”€â”€ model_30500.pt             # ç¬¬ 30500 æ¬¡è¿­ä»£æ£€æŸ¥ç‚¹
            â””â”€â”€ model_31000.pt             # æœ€ç»ˆæ£€æŸ¥ç‚¹
```

### å®Œæ•´è·¯å¾„ç¤ºä¾‹

```bash
/home/bubble/æ¡Œé¢/tita/tita_rl/logs/tita_parkour/parkour_with_curriculum/Nov23_14-30-25/model_31000.pt
```

### æ£€æŸ¥ç‚¹ä¿å­˜è§„åˆ™

| é…ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| `save_interval` | 500 | æ¯ 500 æ¬¡è¿­ä»£ä¿å­˜ä¸€æ¬¡ |
| `max_iterations` | 31000 | æ€»è¿­ä»£æ¬¡æ•° |
| **æ£€æŸ¥ç‚¹æ•°é‡** | **62 ä¸ª** | 31000 / 500 = 62 |
| **æ€»ç£ç›˜å ç”¨** | **~800 MB** | 62 Ã— 13MB â‰ˆ 806 MB |

### æ£€æŸ¥ç‚¹å†…å®¹

æ¯ä¸ª `.pt` æ–‡ä»¶åŒ…å«ï¼š

```python
checkpoint = {
    'model_state_dict': {...},           # Actor-Critic ç½‘ç»œå‚æ•°
    'optimizer_state_dict': {...},       # ä¼˜åŒ–å™¨çŠ¶æ€
    'iter': 15000,                       # å½“å‰è¿­ä»£æ¬¡æ•°
    'infos': {
        'stage': 'stage_2_small_obstacles',  # å½“å‰é˜¶æ®µ
        'reward_weights': {...},          # å½“å‰å¥–åŠ±æƒé‡
        'episode_rewards': [...],         # å›åˆå¥–åŠ±å†å²
        'episode_costs': [...],           # å›åˆæˆæœ¬å†å²
    }
}
```

---

## 5ï¸âƒ£ è®­ç»ƒç›‘æ§

### TensorBoard ç›‘æ§

```bash
# åœ¨æ–°ç»ˆç«¯ä¸­å¯åŠ¨ TensorBoard
cd /home/bubble/æ¡Œé¢/tita/tita_rl
tensorboard --logdir=logs/tita_parkour --port=6006

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
http://localhost:6006
```

**å¯è§†åŒ–å†…å®¹**ï¼š
- ğŸ“ˆ å¥–åŠ±æ›²çº¿ï¼ˆæ€»å¥–åŠ±ã€å„é¡¹å¥–åŠ±ï¼‰
- ğŸ“‰ æˆæœ¬æ›²çº¿ï¼ˆ6ä¸ªçº¦æŸè¿åï¼‰
- ğŸ¯ æˆåŠŸç‡ï¼ˆç»ˆæ­¢ç‡ã€ç¢°æ’ç‡ï¼‰
- ğŸƒ è¿åŠ¨æŒ‡æ ‡ï¼ˆé€Ÿåº¦ã€é«˜åº¦ã€å§¿æ€ï¼‰
- ğŸ“š è¯¾ç¨‹å­¦ä¹ è¿›åº¦ï¼ˆé˜¶æ®µåˆ‡æ¢ï¼‰

### å®æ—¶æ—¥å¿—ç›‘æ§

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/tita_parkour/parkour_with_curriculum/<æ—¶é—´æˆ³>/training.log

# æˆ–è€…ç›´æ¥çœ‹ç»ˆç«¯è¾“å‡º
```

### å…³é”®æŒ‡æ ‡è¯´æ˜

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| **mean_reward** | > 15 | å¹³å‡å›åˆå¥–åŠ±ï¼ˆè¶Šé«˜è¶Šå¥½ï¼‰ |
| **mean_cost** | < 1.0 | å¹³å‡çº¦æŸè¿åï¼ˆè¶Šä½è¶Šå¥½ï¼‰ |
| **collision_rate** | < 5% | ç¢°æ’ç‡ï¼ˆé˜¶æ®µ3åº”é™ä½åˆ°5%ä»¥ä¸‹ï¼‰ |
| **obstacle_clearance** | > 0.8 | éšœç¢ç‰©æ¸…é™¤ç‡ï¼ˆé˜¶æ®µ3åº” > 0.8ï¼‰ |
| **tracking_error** | < 0.2 | é€Ÿåº¦è·Ÿè¸ªè¯¯å·®ï¼ˆè¶Šå°è¶Šå¥½ï¼‰ |

---

## 6ï¸âƒ£ å¸¸è§é—®é¢˜å¤„ç†

### Q1: è®­ç»ƒå¯åŠ¨å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
ImportError: No module named 'isaacgym'
```

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥ conda ç¯å¢ƒ
conda activate tita2

# æ£€æŸ¥ Isaac Gym
python -c "import isaacgym; print(isaacgym.__version__)"

# å¦‚æœå¤±è´¥ï¼Œé‡æ–°å®‰è£…
cd /home/bubble/æ¡Œé¢/tita/IsaacGym_Preview_4_Package/isaacgym/python
pip install -e .
```

### Q2: æ¨¡å‹åŠ è½½å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
RuntimeError: Error loading model_11700.pt
```

**æ£€æŸ¥**ï¼š
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -lh /home/bubble/æ¡Œé¢/tita/tita_rl/model_11700.pt

# æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§
python check_cpt.py --checkpoint=model_11700.pt
```

### Q3: å†…å­˜ä¸è¶³ï¼ˆOOMï¼‰

**ç—‡çŠ¶**ï¼š
```
CUDA out of memory
```

**è§£å†³**ï¼š
```python
# é™ä½ç¯å¢ƒæ•°é‡
class env:
    num_envs = 1024  # ä» 2048 é™ä½åˆ° 1024
```

### Q4: è®­ç»ƒé€Ÿåº¦æ…¢

**ä¼˜åŒ–å»ºè®®**ï¼š

1. **ä½¿ç”¨ headless æ¨¡å¼**ï¼š
```bash
python train_parkour.py --task=tita_parkour --headless
```

2. **é™ä½æ·±åº¦ç›¸æœºæ›´æ–°é¢‘ç‡**ï¼š
```python
class depth:
    update_interval = 2  # ä» 1 æ”¹ä¸º 2
```

3. **å‡å°‘è¯„ä¼°é¢‘ç‡**ï¼š
```python
class runner:
    eval_interval = 1000  # ä» 500 æ”¹ä¸º 1000
```

### Q5: å¦‚ä½•ä»æ£€æŸ¥ç‚¹æ¢å¤è®­ç»ƒ

**åœºæ™¯ 1ï¼šç»§ç»­æœªå®Œæˆçš„è®­ç»ƒ**

```bash
# ä¼šè‡ªåŠ¨æ‰¾åˆ°æœ€æ–°æ£€æŸ¥ç‚¹ç»§ç»­
python train_parkour.py --task=tita_parkour --headless --resume
```

**åœºæ™¯ 2ï¼šä»ç‰¹å®šæ£€æŸ¥ç‚¹æ¢å¤**

```python
# ä¿®æ”¹é…ç½®
class runner:
    resume = True
    resume_path = '/home/bubble/æ¡Œé¢/tita/tita_rl/logs/tita_parkour/.../model_15000.pt'
```

---

## 7ï¸âƒ£ è®­ç»ƒå®Œæˆå

### è¯„ä¼°æ¨¡å‹

```bash
# æµ‹è¯•æœ€ç»ˆæ¨¡å‹
python test_parkour.py --task=tita_parkour --checkpoint=31000

# å¯è§†åŒ–æµ‹è¯•ï¼ˆä¸ç”¨ headlessï¼‰
python test_parkour.py --task=tita_parkour --checkpoint=31000
```

### å¯¼å‡º ONNXï¼ˆéƒ¨ç½²åˆ°çœŸæœºï¼‰

```bash
# å¯¼å‡ºæœ€ç»ˆæ¨¡å‹
python export_policy_as_onnx.py --checkpoint=logs/tita_parkour/.../model_31000.pt

# éªŒè¯ ONNX æ¨¡å‹
python verify_onnx_conversion.py --onnx=policy.onnx
```

### å¯¹æ¯”ä¸åŒé˜¶æ®µçš„æ¨¡å‹

```bash
# è¯„ä¼°é˜¶æ®µ1ç»“æŸæ—¶çš„æ¨¡å‹
python test_parkour.py --checkpoint=8000

# è¯„ä¼°é˜¶æ®µ2ç»“æŸæ—¶çš„æ¨¡å‹
python test_parkour.py --checkpoint=16000

# è¯„ä¼°æœ€ç»ˆæ¨¡å‹
python test_parkour.py --checkpoint=31000
```

---

## 8ï¸âƒ£ æœ€ç»ˆæ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹è®­ç»ƒå‰ï¼Œè¯·ç¡®è®¤ï¼š

### ç¯å¢ƒå‡†å¤‡
- [ ] âœ… Conda ç¯å¢ƒå·²æ¿€æ´»ï¼ˆ`conda activate tita2`ï¼‰
- [ ] âœ… Isaac Gym å·²å®‰è£…å¹¶å¯å¯¼å…¥
- [ ] âœ… PyTorch å·²å®‰è£…ï¼ˆCUDA ç‰ˆæœ¬ï¼‰
- [ ] âœ… OpenCV å·²å®‰è£…ï¼ˆ`pip install opencv-python`ï¼‰

### æ–‡ä»¶å‡†å¤‡
- [ ] âœ… `configs/tita_parkour_config.py` é…ç½®æ­£ç¡®
- [ ] âœ… `envs/parkour_robot.py` å·²åˆ›å»º
- [ ] âœ… `utils/parkour_curriculum.py` å·²åˆ›å»º
- [ ] âœ… `train_parkour.py` å·²åˆ›å»º
- [ ] âœ… é¢„è®­ç»ƒæ¨¡å‹å­˜åœ¨ï¼š`model_11700.pt`

### é…ç½®ç¡®è®¤
- [ ] âœ… `resume = True`
- [ ] âœ… `resume_path` æŒ‡å‘æ­£ç¡®çš„æ¨¡å‹æ–‡ä»¶
- [ ] âœ… `max_iterations = 31000`
- [ ] âš ï¸ å»ºè®®ï¼š`learning_rate = 3e-4`ï¼ˆå¯é€‰ï¼‰

### ç¡¬ä»¶ç¡®è®¤
- [ ] âœ… RTX 3060 æ˜¾å¡å¯ç”¨
- [ ] âœ… è‡³å°‘ 16GB ç³»ç»Ÿå†…å­˜
- [ ] âœ… è‡³å°‘ 10GB ç£ç›˜ç©ºé—´ï¼ˆå­˜å‚¨æ£€æŸ¥ç‚¹ï¼‰

---

## 9ï¸âƒ£ å¿«é€Ÿå¼€å§‹å‘½ä»¤

```bash
# ========== å®Œæ•´è®­ç»ƒæµç¨‹ ==========

# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/bubble/æ¡Œé¢/tita/tita_rl

# 2. æ¿€æ´»ç¯å¢ƒ
conda activate tita2

# 3. ï¼ˆå¯é€‰ï¼‰ä¿®æ”¹å­¦ä¹ ç‡
# ç¼–è¾‘ configs/tita_parkour_config.py
# å°† learning_rate = 1e-3 æ”¹ä¸º 3e-4

# 4. å¯åŠ¨è®­ç»ƒ
python train_parkour.py --task=tita_parkour --headless

# 5. åœ¨æ–°ç»ˆç«¯å¯åŠ¨ TensorBoardï¼ˆå¯é€‰ï¼‰
tensorboard --logdir=logs/tita_parkour --port=6006

# 6. ç­‰å¾…è®­ç»ƒå®Œæˆï¼ˆçº¦ 4-8 å°æ—¶ï¼Œå–å†³äºç¡¬ä»¶ï¼‰
# æ£€æŸ¥ç‚¹ä¼šè‡ªåŠ¨ä¿å­˜åˆ°ï¼š
# logs/tita_parkour/parkour_with_curriculum/<æ—¶é—´æˆ³>/model_*.pt

# 7. è®­ç»ƒå®Œæˆåæµ‹è¯•
python test_parkour.py --task=tita_parkour --checkpoint=31000
```

---

## ğŸ‰ æ€»ç»“

### é…ç½®çŠ¶æ€ï¼šâœ… ä¼˜ç§€

æ‚¨çš„è·‘é…·è®­ç»ƒé…ç½®**å‡ ä¹å®Œç¾**ï¼Œæ‰€æœ‰æ ¸å¿ƒè®¾ç½®éƒ½æ­£ç¡®ï¼š

âœ… **æ­£ç¡®é…ç½®**ï¼š
- å¾®è°ƒè®¾ç½®ï¼ˆresume + model_11700.ptï¼‰
- è¯¾ç¨‹å­¦ä¹ ï¼ˆ3é˜¶æ®µï¼Œ31000æ¬¡è¿­ä»£ï¼‰
- æ·±åº¦ç›¸æœºï¼ˆç¡¬ä»¶å‚æ•°æ­£ç¡®ï¼‰
- ä»»åŠ¡æ³¨å†Œï¼ˆParkourRobotï¼‰
- ä¿å­˜ç­–ç•¥ï¼ˆæ¯500æ¬¡ï¼‰

âš ï¸ **å”¯ä¸€å»ºè®®**ï¼š
- å°†å­¦ä¹ ç‡ä» `1e-3` é™ä½åˆ° `3e-4`ï¼ˆå¾®è°ƒä¼˜åŒ–ï¼Œå¯é€‰ï¼‰

### æ£€æŸ¥ç‚¹ä¿å­˜ä½ç½®

```
/home/bubble/æ¡Œé¢/tita/tita_rl/logs/tita_parkour/parkour_with_curriculum/<æ—¥æœŸæ—¶é—´>/model_*.pt
```

- æ¯ 500 æ¬¡è¿­ä»£ä¿å­˜ä¸€æ¬¡
- æ€»å…± 62 ä¸ªæ£€æŸ¥ç‚¹
- æ¯ä¸ªçº¦ 13 MBï¼Œæ€»å…±çº¦ 800 MB

### ç«‹å³å¼€å§‹è®­ç»ƒ

```bash
cd /home/bubble/æ¡Œé¢/tita/tita_rl
conda activate tita2
python train_parkour.py --task=tita_parkour --headless
```

**é¢„è®¡è®­ç»ƒæ—¶é—´**ï¼š4-8 å°æ—¶ï¼ˆRTX 3060ï¼‰

ç¥è®­ç»ƒæˆåŠŸï¼ğŸš€
